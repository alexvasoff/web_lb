<html>
<head>
    <title>Реакция на событие</title>
    <meta charset=UTF-8>
    <style>h1 {
        color: #ff00ff
    }

    #k1 {
        position: absolute;
        left: 50px;
        top: 200px;
        width: 300px;
        height: 100px;
        background-color: blue
    }

    #k2 {
        position: relative;
        left: 50px;
        top: 25px;
        width: 200px;
        height: 50px;
        background-color: yellow
    }
    </style>
</head>
<body ID="B" bgcolor="#AAAAAA" onclick="rodEl()" style="height:600px">
<h1 ID="HH" onclick="H_l()">ЦВЕТ</h1>
<div ID="k1" onclick="D_l()">
    <div ID="k2" style="background-color:yellow" onclick="D_2(this)"></div>
</div>
</body>
<script>
    /*      Функция запускается при щелчке мышкой по
            любой точке документа */
    function rodEl() {  //Изменение цвета заднего плана документа
        var object = document.all.B.bgColor
        if (object != "#777777") {
            object = "#777777"
        } else {
            object = "#AAAAAA"
        }
        document.all.B.bgColor = object
    }

    function D_l() {      //Изменение цвета внешнего прямоугольника
        window.event.cancelBubble = true
        var object = document.all.k1.style.backgroundColor
        if (object != "red") object = "red"
        else object = "green"
        document.all.k1.style.backgroundColor = object
    }

    function D_2(thi) {       //Изменение цвета внутреннего прямоугольника
        window.event.cancelBubble = true
        var object = thi.style.backgroundColor
        if (object == "#ff00ff" || object == 'rgb(255, 0, 255)') {
            object = "#00ffff"
        } else {
            object = "#ff00ff"
        }
        thi.style.backgroundColor = object
    }

    function H_l() {       //Изменение цвета слова "Цвет"
        window.event.cancelBubble = true
        var object = document.all.HH.style.color
        //alert("1. object="+document.all.HH.style.color)
        if (object === "#aa00aa") {
            object = "#00ffff"
            //alert("2. object="+object)
        } else {
            object = "#aa00aa"
        }
        document.all.HH.style.color = object
    }
</script>
</html>
