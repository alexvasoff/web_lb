<html>
<head>
    <title>Реакция на событие</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <style>h1 {
        color: #ff00ff
    }

    #k1 {
        position: absolute;
        left: 50px;
        top: 200px;
        width: 300px;
        height: 100px;
        background-color: blue
    }

    #k2 {
        position: relative;
        left: 50px;
        top: 25px;
        width: 200px;
        height: 50px;
        background-color: yellow
    }
    </style>
</head>
<body ID="B" bgcolor="#AAAAAA" onclick="rodEl()" style="height:600px">
<h1 ID="HH" onclick="H_l()">ЦВЕТ</h1>
<div ID="k1" onclick="D_l()">
    <div ID="k2" style="background-color:yellow" onclick="D_2(this)"></div>
</div>
</body>
<script>
    /*      Функция запускается при щелчке мышкой по
            любой точке документа */
    function rodEl() {  //Изменение цвета заднего плана документа
        var z = document.all.B.bgColor
        if (z != "#777777") {
            z = "#777777"
        } else {
            z = "#AAAAAA"
        }
        document.all.B.bgColor = z
    }

    function D_l() {      //Изменение цвета внешнего прямоугольника
        window.event.cancelBubble = true
        var z = document.all.k1.style.backgroundColor
        if (z != "red") z = "red"
        else z = "green"
        document.all.k1.style.backgroundColor = z
    }

    function D_2(thi) {       //Изменение цвета внутреннего прямоугольника
        window.event.cancelBubble = true
        var z = thi.style.backgroundColor
        if (z == "#ff00ff" || z == 'rgb(255, 0, 255)') {
            z = "#00ffff"
        } else {
            z = "#ff00ff"
        }
        thi.style.backgroundColor = z
    }

    function H_l() {       //Изменение цвета слова "Цвет"
        window.event.cancelBubble = true
        var z = document.all.HH.style.color
        //alert("1. z="+document.all.HH.style.color)
        if (z == "#aa00aa" || z == 'rgb(170, 0, 170)') {
            z = "#00ffff"
            //alert("2. z="+z)
        } else {
            z = "#aa00aa"
        }
        document.all.HH.style.color = z
    }
</script>
</html>
