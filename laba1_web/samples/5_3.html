<html>
<head>
    <meta charset="UTF-8">
    <title>Перетаскивание</title>
</head>
<body onload="init()">
<h2 align="center" style="color:#ff00ff">
    Перетаскиваниеквадрата мышкой</h2>
<h3 align="center">
    Установите курсор внутри красногоквадрата, нажмите левую кнопку
    мышки и тащите квадрат.<br>
    Для освобождения квадрата от захвата отпустите кнопку мышки</h3>
<div
        id='kv' style="position:absolute;left:10px;top:10px;width:50px;height:50px;background-color:red">
</div>
</body>
<script>
    flag = false; //Связывание событий с функциями
    function init() {
        document.all.kv.onmousemove = dragIt
        document.all.kv.onmouseup = osvobodi
        document.all.kv.onmousedown = zachvat
    }

    function dragIt(evt) {   //Параметр evt создаётся самим браузером
        sobytie = evt;
        if (flag) {
            document.all.kv.style.top = sobytie.clientY - 25;
            document.all.kv.style.left = sobytie.clientX - 25;
        }
    }

    function osvobodi() {
        flag = false;//устанавливается запрет на перетаскивание
    }

    function zachvat() {
        flag = true;//Перетаскивание разрешается
    }
</script>
</html>
